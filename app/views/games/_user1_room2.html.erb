<div class="d-flex justify-content-center align-items-center h-100 position-relative"
  style= "width:1000px"
  data-controller="door-opening mooving-effect-object"
  data-door-opening-advance-path-value="<%= advance_game_path(@game) %>"
>
  <div class="marble-floor-room2 fade-in-floor-bis-s"
    data-mooving-effect-object-target="floor"
    data-game-subscription-target="floorUser1Room2"
  >
  </div>

  <div>
    <%= image_tag "porte_4.png",
      class: "door-img w-100 fade-in-door-bis-n img-saturate",
      height: "310",
      "data-action": "click->door-opening#deactivateDoorTrap",
      "data-mooving-effect-object-target":"carpet",
      "data-game-subscription-target":"doorUser1Room2"
    %>

    <%= image_tag "carpet_3a.png",
      class: "carpet-img position-absolute fade-in-carpet-bis-se img-saturate",
      height: "80",
      "data-mooving-effect-object-target":"carpet",
      "data-game-subscription-target":"carpetUser1Room2"
    %>

    <button type="button"
      class="btn"
      data-bs-toggle="modal"
      data-bs-target="#chemineModal"
    >

      <%= image_tag "chemine_1.png",
       class: "chemine-img position-absolute fade-in-chemine-ne img-saturate",
       height: "430",
        "data-mooving-effect-object-target":"carpet",
        "data-game-subscription-target":"chemineUser1Room2"
      %>

      <div id="aura-chemine", class="background-chemine position-absolute surbrillance fade-in-chemine-ne">
      </div>

    </button>


    <%= image_tag "bureau_1.png",
      class: "bureau-img position-absolute fade-in-bureau-sw img-saturate",
      height: "200",
      "data-mooving-effect-object-target":"chair",
      "data-game-subscription-target":"bureauUser1Room2"
    %>

    <%= image_tag "livre_2.png",
      class: "livre-img position-absolute fade-in-livre-se img-saturate",
      height: "70",
      "data-mooving-effect-object-target":"chair",
      "data-game-subscription-target":"livreUser1Room2"
    %>

    <%= image_tag "piledelivre_2.png",
      class: "pile-img position-absolute fade-in-pile2-se img-saturate",
      height: "270",
      "data-mooving-effect-object-target":"object",
      "data-game-subscription-target":"pile2User1Room2"
     %>

    <button type="button"
      class="btn"
      data-bs-toggle="modal"
      data-bs-target="#exampleModal"
    >
      <%= image_tag "piledelivre_1.png",
        class: "pile-img1 position-absolute fade-in-pile1-se img-saturate",
        height: "180",
        "data-mooving-effect-object-target":"object",
        "data-game-subscription-target":"pile1User1Room2"
      %>
      <div id="aura-pile",
        class="background-pile position-absolute surbrillance img-saturate fade-in-pile1-se",
        data-mooving-effect-object-target="object"
      >
      </div>

    </button>

    <%= image_tag "table_2.png",
      class: "table-img position-absolute fade-in-buffet-sw img-saturate",
      height: "150",
      "data-mooving-effect-object-target":"object",
      "data-game-subscription-target":"buffetUser1Room2"
    %>

    <%= image_tag "lustre_2.jpg",
      class: "lustre-img position-absolute fade-in-lustre-n img-saturate",
      height: "150",
      "data-mooving-effect-object-target":"object",
      "data-game-subscription-target":"lustreUser1Room2"
    %>

    <button type="button"
      class="btn"
      data-bs-toggle="modal"
      data-bs-target="#key-one"
    >
      <%= image_tag "clef_1.png",
        class: "clef-img position-absolute fade-in-clef1-sw aurakey img-saturate",
        height: "15",
        # "data-action": "click->door-opening#grabKey",
        # "data-door-opening-good-key-param":"false",
        "data-mooving-effect-object-target":"object",
        "data-game-subscription-target":"clef1User1Room2"
      %>
    </button>

    <button type="button"
      class="btn"
      data-bs-toggle="modal"
      data-bs-target="#key-two"
    >
      <%= image_tag "clef_2.png",
        class: "clef2-img position-absolute fade-in-clef2-ne aurakey img-saturate",
        height: "25",
        "data-action": "click->door-opening#grabKey",
        "data-door-opening-good-key-param": "false",
        "data-mooving-effect-object-target":"object",
        "data-game-subscription-target":"clef2User1Room2"
      %>
    </button>

    <button type="button"
      class="btn"
      data-bs-toggle="modal"
      data-bs-target="#key-three"
    >
      <%= image_tag "clef_3.png",
        class: "clef3-img position-absolute fade-in-clef3-se aurakey img-saturate",
        height: "20",
        "data-action": "click->door-opening#grabKey",
        "data-door-opening-good-key-param": "false",
        "data-mooving-effect-object-target":"object",
        "data-game-subscription-target":"clef3User1Room2"
      %>
    </button>
  </div>

  <div  class="position-absolute"
    data-controller="door-opening"
    data-door-opening-advance-path-value="<%= advance_game_path(@game) %>"
  >
  </div>

</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class= "d-flex justify-content-around align-items-center flex-column h-90">
          <p>Une pile de livres poussiéreuse. Elle contient de nombreuses informations inutiles.</p>
          <%= image_tag "bd-piledelivre.png", class: "img-in-modal rounded" %>
        </div>
    </div>
  </div>
</div>

<div class="modal fade"
  id="key-one"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
  data-door-opening-advance-path-value="<%= advance_game_path(@game) %>"
  data-controller="door-opening"
>
  <div class="modal-dialog">
    <div class="modal-content">
        <div class= "d-flex justify-content-around align-items-center flex-column h-90">
          <p>Une clé très légerement rouillée. On pourrait croire celle dont parlait l'enigme.</p>
          <%= image_tag "clef_1.png", class: "img-in-modal rounded" %>
          <div class="ask-opening">
            <p>Souhaitez vous utiliser cette clé pour dévérouiller la porte?</p>
          </div>
          <div class="d-flex w-75 justify-content-around align-items-center"
            data-controller="game-subscription"
          >
            <div class="btn  btn-dark btn-lg"
              data-action="click->door-opening#grabKey click->door-opening#deactivateDoorTrap "
              data-door-opening-good-key-param="false"
              data-bs-dismiss="modal"
            >
              Ouvrir la porte
            </div>
            <div
              class="btn  btn-secondary btn-lg"
              data-bs-dismiss="modal"
            >
              Ne pas ouvrir
            </div>
          </div>
        </div>
    </div>
  </div>
</div>

<div class="modal fade"
  id="key-two"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
  data-door-opening-advance-path-value="<%= advance_game_path(@game) %>"
  data-controller="door-opening"
>
  <div class="modal-dialog">
    <div class="modal-content">
        <div class= "d-flex justify-content-around align-items-center flex-column h-90">
          <p>Une clé très légerement rouillée. On pourrait croire celle dont parlait l'enigme.</p>
          <%= image_tag "clef_1.png", class: "img-in-modal rounded" %>
          <div class="ask-opening">
            <p>Souhaitez vous utiliser cette clé pour dévérouiller la porte?</p>
          </div>
          <div class="d-flex w-75 justify-content-around align-items-center"
            data-controller="game-subscription"
          >
            <div class="btn  btn-dark btn-lg"
              data-action="click->door-opening#grabKey click->door-opening#deactivateDoorTrap "
              data-door-opening-good-key-param="false"
              data-bs-dismiss="modal"
            >
              Ouvrir la porte
            </div>
            <div
              class="btn  btn-secondary btn-lg"
              data-bs-dismiss="modal"
            >
              Ne pas ouvrir
            </div>
          </div>
        </div>
    </div>
  </div>
</div>

<div class="modal fade"
  id="key-three"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
  data-door-opening-advance-path-value="<%= advance_game_path(@game) %>"
  data-controller="door-opening"
>
  <div class="modal-dialog">
    <div class="modal-content">
        <div class= "d-flex justify-content-around align-items-center flex-column h-90">
          <p>Une clé très légerement rouillée. On pourrait croire celle dont parlait l'enigme.</p>
          <%= image_tag "clef_1.png", class: "img-in-modal rounded" %>
          <div class="ask-opening">
            <p>Souhaitez vous utiliser cette clé pour dévérouiller la porte?</p>
          </div>
          <div class="d-flex w-75 justify-content-around align-items-center"
            data-controller="game-subscription"
          >
            <div class="btn  btn-dark btn-lg"
              data-action="click->door-opening#grabKey click->door-opening#deactivateDoorTrap "
              data-door-opening-good-key-param="false"
              data-bs-dismiss="modal"
            >
              Ouvrir la porte
            </div>
            <div
              class="btn  btn-secondary btn-lg"
              data-bs-dismiss="modal"
            >
              Ne pas ouvrir
            </div>
          </div>
        </div>
    </div>
  </div>
</div>


<div class="modal fade" id="chemineModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class= "d-flex justify-content-around align-items-center flex-column h-90">
          <p>Une gigantesque cheminée, à la largeur imposante. Quelque chose brille dessus !</p>
          <%= image_tag "bd-chemine.png", class: "img-in-modal rounded" %>
        </div>
    </div>
  </div>
</div>
